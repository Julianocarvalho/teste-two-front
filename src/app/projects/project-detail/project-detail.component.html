<h1 class="page-header">Detalhes do Project: {{ project.name }}</h1>

<form [formGroup]="form" (ngSubmit)="updateProject()">
    <div class="row">
        <!-- projectTitle -->
        <div class="form-group col-md-6 has-feedback" [ngClass]="formUtils.fieldClassForErrorOrSuccess('name')">
            <label for="name" class="control-label">Nome</label>
            <input type="text" formControlName="name" id="name" class="form-control">
            <span class="glyphicon form-control-feedback" [ngClass]="formUtils.iconClassForErrorOrSuccess('name')"></span>

            <div *ngIf="formUtils.showFieldError('name')" class="text-danger">
                <div *ngIf="form.get('name').errors.required">o nome é obrigatório</div>
                <div *ngIf="form.get('name').errors.minlength">o nome deve ter no mínimo 2 caracteres</div>
                <div *ngIf="form.get('name').errors.maxlength">o nome deve ter no máximo 255 caracteres</div>
            </div>
        </div>

        <!-- projectElapsed_time -->
        <div class="form-group col-md-3 has-feedback" [ngClass]="formUtils.fieldClassForErrorOrSuccess('elapsed_time')">
            <label for="elapsed_time" class="control-label">Tempo Decorrido em segundos</label>
            <input type="text" formControlName="elapsed_time" id="elapsed_time" class="form-control" [attr.disabled]="true">
        </div>

        <!-- projectDeadline 
    <div class="form-group col-md-3 has-feedback" [ngClass]="formUtils.fieldClassForErrorOrSuccess('deadline')">
      <label for="deadline" class="control-label">Prazo de Entrega</label>
      <input type="text" formControlName="deadline" id="deadline" class="form-control">
      <span class="glyphicon form-control-feedback" [ngClass]="formUtils.iconClassForErrorOrSuccess('deadline')"></span>
      <div *ngIf="formUtils.showFieldError('deadline')" class="text-danger">o prazo é obrigatório</div>
    </div>-->

        <!-- projectDone
    <div class="form-group col-md-3 has-feedback" [ngClass]="formUtils.fieldClassForErrorOrSuccess('done')">
      <label for="done" class="control-label">Situação</label>
      <select class="form-control" id="done" formControlName="done">
        <option *ngFor="let option of projectDoneOptions" [value]="option.value">{{ option.text }}</option>
      </select>
      <span class="glyphicon form-control-feedback" [ngClass]="formUtils.iconClassForErrorOrSuccess('done')"></span>
      <div *ngIf="formUtils.showFieldError('done')" class="text-danger">situação obrigatória</div>
    </div> -->
    </div>

    <div class="row">
        <!-- projectDescription -->
        <div class="form-group col-md-12">
            <label for="description" class="control-label">Descrição</label>
            <textarea formControlName="description" id="description" class="form-control" rows="4"></textarea>
        </div>
    </div>

    <button [disabled]="form.invalid" type="submit" class="btn btn-success" (click)="goBack()">Atualizar</button>
    <button class="btn btn-default" type="button" (click)="goBack()">Voltar</button>

    <pre>{{ form.value | json }}</pre>
</form>